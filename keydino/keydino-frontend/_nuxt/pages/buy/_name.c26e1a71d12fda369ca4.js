webpackJsonp([9],{"++VB":function(e,t,n){"use strict";var r=n("vPfs"),s=n("peca"),i=n("VU/8"),a=i(r.a,s.a,null,null,null);t.a=a.exports},"8R4f":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("loader",{class:(r={"bank-setup":!0},r["bank-setup__step"+e.stepIndex]=!0,r),attrs:{data:e.service}},[e.service?n("div",[1==e.stepIndex?n("portal",{attrs:{to:"mobile-title"}},[n("span",{staticStyle:{color:"white"}},[e._v(e._s(e.$t("exchange.glidera.title.link-account")))])]):n("portal",{attrs:{to:"mobile-title"}},[n("img",{staticClass:"header-logo",attrs:{src:e.service.logo}})]),n("scroll",{staticClass:"scroller"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("service-setup-step",{key:"step-"+e.stepIndex,attrs:{step:e.steps[e.stepIndex],service:e.service},on:{done:function(t){e.next()}}})],1)],1)],1):e._e()]);var r},s=[],i={render:r,staticRenderFns:s};t.a=i},"8T6B":function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"",""])},"8cMY":function(e,t,n){"use strict";var r=n("Xxa5"),s=n.n(r),i=n("exGp"),a=n.n(i);t.a={data:function(){return{component:null,_dirty:!1,_updatingComponent:!1}},methods:{updateComponent:function(){function e(){return t.apply(this,arguments)}var t=a()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._dirty=!0,!this._updatingComponent){e.next=3;break}return e.abrupt("return");case 3:this._updatingComponent=!0;case 4:if(!this._dirty){e.next=23;break}if(this._dirty=!1,e.prev=6,!this.step||!this.step.flow){e.next=13;break}return e.next=10,n("CPpz")("./"+this.step.flow);case 10:this.component=e.sent.default,e.next=16;break;case 13:return e.next=15,n.e(0).then(n.bind(null,"2Abt"));case 15:this.component=e.sent.default;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),this.$report(e.t0);case 21:e.next=4;break;case 23:this._updatingComponent=!1;case 24:case"end":return e.stop()}},e,this,[[6,18]])}));return e}()},mounted:function(){this.updateComponent()},watch:{step:function(){this.updateComponent()}}}},"9W2Y":function(e,t,n){var r=n("VoLu");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("rjj0")("0a0f9864",r,!0)},CPpz:function(e,t,n){function r(e){var t=s[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var s={"./AgreeToTerms":["UnAq",28],"./AgreeToTerms.vue":["UnAq",28],"./CashMap":["YJog",22],"./CashMap.vue":["YJog",22],"./ChooseAccount":["61K5",25],"./ChooseAccount.vue":["61K5",25],"./ChooseBank":["sGLK",24],"./ChooseBank.vue":["sGLK",24],"./IdVerification":["ckeX",27],"./IdVerification.vue":["ckeX",27],"./Register":["BFjR",23],"./Register.vue":["BFjR",23],"./SignInToBank":["vLdH",26],"./SignInToBank.vue":["vLdH",26]};r.keys=function(){return Object.keys(s)},r.id="CPpz",e.exports=r},R8ia:function(e,t,n){"use strict";function r(e){n("t4Es")}var s=n("hSLR"),i=n("8R4f"),a=n("VU/8"),o=r,c=a(s.a,i.a,o,null,null);t.a=c.exports},"S+TS":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.capabilities.length;n++)for(var r=e.capabilities[n],s=0;s<r.links.length;s++){var i=r.links[s];t(r,i)}}function s(e){for(var t=e.split("-"),n=1;n<t.length;n++)t[n]=t[n][0].toUpperCase()+t[n].substring(1);return t.join("")}function i(e,t){return new u.a(function(n){return e.$once(t,n)})}n.d(t,"a",function(){return b});var a=n("fZjL"),o=n.n(a),c=n("//Fk"),u=n.n(c),p=n("Xxa5"),l=n.n(p),h=n("exGp"),f=n.n(h),d=n("/5sW"),v=n("pxFO"),g=n("zSYu"),x={data:function(){return{token:null,href:null,hasAccount:!1}},computed:{tosHref:function(){if("glidera"==this.slug)return"https://www.glidera.io/terms"},supportEmail:function(){return"glidera"==this.slug?"support@glidera.io":"simplex"==this.slug?"support@simplex.com":"support@KeyDino.com"},headers:function(){return this.token?{"X-Service-Token":this.token}:{}},configurationSteps:function(){return"glidera"==this.slug?[{name:"Terms of Service",flow:"AgreeToTerms",setupOnly:!0},{name:"Choose Bank",flow:"ChooseBank",setupOnly:!0},{name:"Register",endpoint:"register",flow:"Register",setupOnly:!0},{name:"Personal Details",endpoint:"details"},{name:"ID Verification",endpoint:"idv",flow:"IdVerification"},{name:"Bank Signin",endpoint:"signin",flow:"SignInToBank"},{name:"Bank Accounts",endpoint:"accounts",flow:"ChooseAccount",settingsOnly:!0}]:[]},slug:function(){return this.href.match(/([^\/]+)$/)[1]},logo:function(){return"bank"==this.type?"https://www.glidera.io/resources/media/img/glidera.png":null},description:function(){return v.d.t("exchange.slogans."+this.type)},gradient:function(){switch(this.type){case"bank":return"linear-gradient(to right, rgb(79, 110, 137), rgb(57, 69, 81))";case"cash":return"linear-gradient(to right, #b7c594, #00a99d)";case"credit":return"linear-gradient(to right, #7fb5ff, #4995ff)"}return null},appStyle:function(){return this.gradient?{"background-image":this.gradient}:null},readyToUse:function(){return"bank"!=this.type||this.hasAccount}},created:function(){function e(){return t.apply(this,arguments)}var t=f()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$kv.get(this.$options.tokenKey.call(this));case 2:if(this.token=e.sent,"function"!=typeof this.accounts){e.next=10;break}if(e.t0=this.token,!e.t0){e.next=9;break}return e.next=8,this.accounts();case 8:e.t0=e.sent;case 9:t=e.t0;case 10:this.$emit("ready");case 11:case"end":return e.stop()}},e,this)}));return e}(),tokenKey:function(){return this.name.toLowerCase()+"Token"},methods:{capability:function(e){return this.capabilities.find(function(t){return t.type==e})},link:function(e,t){var n=this.capability(e),r=n.links.find(function(e){return e.rel==t});return r&&r.href},toolbarStyle:function(){return"bank"==this.type?{color:"white"}:null}}},m=function(){var e=f()(l.a.mark(function e(t){var n,a,c,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:function(){return t},mixins:[x],methods:{}},p&&(n.tokenKey=function(){return p}),r(t,function(e,t){n.methods[t.rel]||(n.methods[s(t.rel)]=f()(l.a.mark(function e(){var n,r,s,i,a,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.href,r=n.match(/:(\w+)/g);for(s in r||[])(i=r[s].substring(1))in u&&(a=u[i],delete u[i],n=n.replace(":"+i,a));if("params"in u&&(c=u.params,delete u.params),0!=o()(u).length){e.next=8;break}return e.next=7,this.$http.get("/_api"+n,{headers:this.headers,params:c});case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,this.$http.post("/_api"+n,u,{headers:this.headers,params:c});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e,this)})))}),n.methods.accounts&&(a=n.methods.accounts,n.methods.accounts=f()(l.a.mark(function e(){var t,n=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.apply(this,n);case 2:return t=e.sent,t&&!t.error&&(this.hasAccount=t.length>0),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}))),Object(g.j)("register",n.methods,function(){var e=f()(l.a.mark(function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(this,r);case 2:return i=e.sent,r.length>0&&(this.token=i.token,this.$kv.set(this.$options.tokenKey.call(this),this.token)),e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),n.methods.logout=function(){if(this.token){this.token=null;var e=this.$options.tokenKey.call(this);return u.a.all([this.$kv.del(e)])}return null},c=new d.default(n),e.next=9,i(c,"ready");case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),k={};"undefined"!=typeof window&&(window.services={});var b=function(){var e=f()(l.a.mark(function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k[t]||(k[t]=new u.a(function(){var e=f()(l.a.mark(function e(s,i){var a,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.default.prototype.$http.get("/_api"+t);case 2:return o=e.sent,e.prev=3,e.next=6,m(o,r);case 6:a=e.sent,a.href=t,k[t]=a,s(a),"undefined"!=typeof window&&(window.services[a.slug]=a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),k[t]=null,i(e.t0);case 17:case"end":return e.stop()}},e,n,[[3,13]])}));return function(t,n){return e.apply(this,arguments)}}())),e.next=3,k[t];case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},VoLu:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,".container[data-v-98e4e08e],.full[data-v-98e4e08e]{position:absolute;top:0;bottom:0;left:0;right:0}.container[data-v-98e4e08e]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.switcher[data-v-98e4e08e]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;border-top:1px solid rgba(75,94,99,.16);border-bottom:1px solid rgba(75,94,99,.16);background-color:#fafcfc}.switcher>a[data-v-98e4e08e]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:center;color:#4b5e63;display:block;padding:5.5px;margin:5.5px;border-radius:5.5px}.switcher>a.inexact.nuxt-link-active[data-v-98e4e08e],.switcher>a.nuxt-link-exact-active[data-v-98e4e08e]{background:-webkit-gradient(linear,left top,right top,from(#f9a538),to(#ff4f94));background:linear-gradient(90deg,#f9a538,#ff4f94);color:#fff}.content[data-v-98e4e08e]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;position:relative}",""])},"Y1I+":function(e,t,n){"use strict";var r=n("Xxa5"),s=n.n(r),i=n("exGp"),a=n.n(i),o=n("S+TS"),c=n("zSYu"),u=n("++VB");t.a={components:{"service-guard":u.a},data:function(){return{service:this.service||null,serviceLatch:null==this.service?new c.a:null}},mounted:function(){function e(){return t.apply(this,arguments)}var t=a()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fetchService();case 3:this.service&&this.service.token&&!this.service.readyToUse&&-1==this.$route.path.indexOf("settings")&&this.$router.replace("/buy/"+this.service.slug+"/settings"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return e}(),methods:{back:function(){return this.$router.replace("/buy"),"clear"},fetchService:function(){function e(){return t.apply(this,arguments)}var t=a()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.$route.params.name,e.next=4,Object(o.a)("/exchange/services/"+t);case 4:this.service=e.sent,this.serviceLatch&&(this.serviceLatch.resolve(this.service),this.serviceLatch=null),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),this.service={error:e.t0.message},this.serviceLatch&&(this.serviceLatch.reject(this.service),this.serviceLatch=null),e.t0;case 13:case"end":return e.stop()}},e,this,[[0,8]])}));return e}()}}},awrB:function(e,t,n){var r=n("8T6B");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("rjj0")("01ba3647",r,!0)},"hRw+":function(e,t,n){"use strict";var r=n("8cMY");t.a={props:["step","service","stepOverridden"],mixins:[r.a],data:function(){return{}},methods:{done:function(){this.$emit("done")}},computed:{},watch:{}}},hSLR:function(e,t,n){"use strict";var r=n("iCAz");t.a={props:["service"],components:{"service-setup-step":r.a},computed:{steps:function(){return this.service.configurationSteps.filter(function(e){return 1!=e.settingsOnly})},stepIndex:function(){return this.stepOverride?this.stepOverride:this.maxStep}},data:function(){return{stepOverride:null,maxStep:0}},methods:{back:function(){var e=this.steps[this.stepIndex];return console.log("BACK FROM STEP: ",e),0==this.stepIndex||(!e.setupOnly||(this.stepOverride=this.stepIndex-1,!1))},next:function(){this.stepOverride?(this.stepOverride++,this.maxStep<=this.stepOverride&&(this.stepOverride=null)):++this.maxStep>=this.steps.length&&this.$emit("done")}}}},iCAz:function(e,t,n){"use strict";function r(e){n("awrB")}var s=n("hRw+"),i=n("ovQW"),a=n("VU/8"),o=r,c=a(s.a,i.a,o,"data-v-ecd00160",null);t.a=c.exports},"lC/v":function(e,t,n){"use strict";function r(e){n("9W2Y")}Object.defineProperty(t,"__esModule",{value:!0});var s=n("Y1I+"),i=n("nDOI"),a=n("VU/8"),o=r,c=a(s.a,i.a,o,"data-v-98e4e08e",null);t.default=c.exports},nDOI:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("service-guard",{ref:"guard",attrs:{service:e.service}},[n("div",{staticClass:"container"},[e.service&&e.service.readyToUse?n("div",{staticClass:"switcher"},[n("nuxt-link",{attrs:{to:"/buy/"+e.service.slug}},[e._v(e._s(e.$t("exchange.label.link.purchase")))]),"history"in e.service?n("nuxt-link",{attrs:{to:"/buy/"+e.service.slug+"/history"}},[e._v(e._s(e.$t("exchange.title.history")))]):e._e(),"details"in e.service?n("nuxt-link",{staticClass:"inexact",attrs:{to:"/buy/"+e.service.slug+"/settings"}},[e._v(e._s(e.$t("exchange.title.settings")))]):e._e()],1):e._e(),n("div",{staticClass:"content"},[n("nuxt-child",{staticClass:"full"})],1)])])},s=[],i={render:r,staticRenderFns:s};t.a=i},ovQW:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.component?n("checkpoint",{attrs:{name:"name.service-setup."+e.step.endpoint,args:{serviceName:e.service.name}}}):e._e(),e.component?n(e.component,{tag:"component",attrs:{callback:e.service[e.step.endpoint],service:e.service},on:{done:function(t){e.done()}}}):e._e()],1)},s=[],i={render:r,staticRenderFns:s};t.a=i},peca:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("loader",{attrs:{data:e.ready}},[e.wizard?n("service-setup-wizard",{ref:"setup",attrs:{service:e.service},on:{done:e.wizardDone}}):e._t("default")],2)},s=[],i={render:r,staticRenderFns:s};t.a=i},t4Es:function(e,t,n){var r=n("w/my");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n("rjj0")("75eb222f",r,!0)},vPfs:function(e,t,n){"use strict";var r=n("Xxa5"),s=n.n(r),i=n("exGp"),a=n.n(i),o=n("R8ia");t.a={props:["service"],data:function(){return{ready:!1,wizard:!1}},components:{"service-setup-wizard":o.a},mounted:function(){function e(){return t.apply(this,arguments)}var t=a()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.service){e.next=2;break}return e.abrupt("return");case 2:this.update();case 3:case"end":return e.stop()}},e,this)}));return e}(),watch:{service:function(){this.update()}},methods:{back:function(){return!this.ready||(this.wizard?this.$refs.setup.back():void 0)},wizardDone:function(){this.wizard=!1},update:function(){console.log("UPDATE"),!this.service.token&&this.service.configurationSteps.length>0&&(this.wizard=!0),this.ready=!0}}}},"w/my":function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"img.header-logo{max-height:22px}",""])}});
//# sourceMappingURL=_name.c26e1a71d12fda369ca4.js.map
