webpackJsonp([23],{"/ham":function(t,e,n){var i=n("UzTZ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("060c8c20",i,!0)},BFjR:function(t,e,n){"use strict";function i(t){n("k6Ka")}Object.defineProperty(e,"__esModule",{value:!0});var r=n("GVFD"),a=n("l/sd"),s=n("VU/8"),o=i,u=s(r.a,a.a,o,"data-v-c22efeee",null);e.default=u.exports},EShQ:function(t,e,n){"use strict";var i=n("Xxa5"),r=n.n(i),a=n("exGp"),s=n.n(a),o=n("Dd8w"),u=n.n(o),c=(n("zSYu"),n("YFWx"),n("MpY5"));e.a={props:["value","definition","immediate"],data:function(){return{bitId:null}},watch:{},mounted:function(){1==this.immediate?this.sign():this.$emit(c.c)},methods:{focus:function(){this.$emit(c.a)},save:function(){this.bitId?this.$emit(c.b,u()({},this.bitId)):this.$emit(EVENT_INUT,null)},beforeSave:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sign();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return t}(),sign:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.definition&&this.definition.uri){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,this.$wallet.signBitId("Authenticate Glidera",this.definition.uri);case 5:this.bitId=t.sent,t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(2),!t.t0.response||403!=t.t0.response.status){t.next=12;break}throw new Error("user-cancel");case 12:throw t.t0;case 13:this.save();case 14:case"end":return t.stop()}},t,this,[[2,8]])}));return t}()}}},GVFD:function(t,e,n){"use strict";var i=n("Xxa5"),r=n.n(i),a=n("exGp"),s=n.n(a),o=n("K1BB");e.a={props:["service"],data:function(){return{accounts:null,registration:null,isRegistered:null,oauth:!1}},components:{"oauth-login":o.a},methods:{registered:function(){function t(t){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.form||"oauth1"!=e.form.slug){t.next=3;break}return this.oauth=e,t.abrupt("return");case 3:e.token&&this.finished();case 4:case"end":return t.stop()}},t,this)}));return t}(),oauthContinue:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.registrationForm.submit();case 2:if(!(e=t.sent)||!e.form||"oauth1"!=e.form.slug){t.next=5;break}throw new Error(this.$t("account.oauth.error.fail"));case 5:e.token&&this.finished(),this.oauth=null;case 7:case"end":return t.stop()}},t,this)}));return t}(),oauthCancel:function(){this.oauth=null},finished:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.isRegistered=!0,this.$emit("done");case 2:case"end":return t.stop()}},t,this)}));return t}(),fetchAccounts:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.service.accounts();case 2:this.accounts=t.sent,this.accounts.length>0&&!this.accounts.error&&(this.isRegistered=!0,this.$emit("done"));case 4:case"end":return t.stop()}},t,this)}));return t}()},computed:{},watch:{}}},JgKk:function(t,e,n){"use strict";function i(t){n("W4Cw")}var r=n("EShQ"),a=n("iHkt"),s=n("VU/8"),o=i,u=s(r.a,a.a,o,"data-v-4570666e",null);e.a=u.exports},K1BB:function(t,e,n){"use strict";function i(t){n("/ham")}var r=n("j3hy"),a=n("gMvt"),s=n("VU/8"),o=i,u=s(r.a,a.a,o,"data-v-5d85168e",null);e.a=u.exports},Lm97:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""])},MpY5:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a});var i="done",r="input",a="ready"},UzTZ:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".button-group[data-v-5d85168e]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}.button-group .button-container[data-v-5d85168e]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.group[data-v-5d85168e]{position:relative;background-color:#fafcfc;border-bottom:1px solid rgba(75,94,99,.16)}.group .icon[data-v-5d85168e]{height:15.4px;width:15.4px;margin-right:5.5px}.group input[data-v-5d85168e]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:33px 22px 11px;background-color:#fafcfc;font-size:17.875px;line-height:27.5px;height:27.5px;font-family:Circular-Pro-Book;height:66px;border:none}",""])},W4Cw:function(t,e,n){var i=n("wjgR");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("549d70a9",i,!0)},gMvt:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  "+t._s(t.$t("account.oauth.label.start"))+"\n\n  "),t.getBitId?n("bw-bitid",{attrs:{definition:t.form.fields.find(function(t){return"login_bitid"==t.slug}),immediate:!0},on:{input:function(e){t.gotBitId(arguments[0])}}}):t._e(),n("div",{staticClass:"group"},[n("stateful-button",{attrs:{click:t.emailContinue}},[t._v(t._s(t.$t("account.oauth.button.continue-email")))])],1)],1)},r=[],a={render:i,staticRenderFns:r};e.a=a},iHkt:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$slots.error?n("div",{staticClass:"error"},[t._v("\n  "+t._s(t.$t("field.bitid.label.error"))+"\n  "),t._t("error"),t._v(".\n  "+t._s(t.$t("field.bitid.label.retry"))+"\n")],2):t._e()},r=[],a={render:i,staticRenderFns:r};e.a=a},j3hy:function(t,e,n){"use strict";var i=n("Xxa5"),r=n.n(i),a=n("exGp"),s=n.n(a),o=n("Dd8w"),u=n.n(o),c=n("JgKk"),l=n("zSYu");e.a={props:["form","service","registration"],data:function(){return{getBitId:!1,data:{},phone:null,finish:!1}},components:{"bw-bitid":c.a},methods:{done:function(){this.$emit("done")},gotBitId:function(t){this.data=u()({},this.data,{login_bitid:t}),this.getBitId=!1,this.submitEmail()},emailContinue:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.getBitId=!0,this.emailSubmitLatch=this.emailSubmitLatch||new l.a,t.next=4,this.emailSubmitLatch.promise();case 4:case"end":return t.stop()}},t,this)}));return t}(),submitEmail:function(){function t(){return e.apply(this,arguments)}var e=s()(r.a.mark(function t(){var e,n,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u()({},this.data,{send_email:{value:!0},to_email:{value:this.registration.email.email},account_email:{value:this.registration.email.email},send_sms:{value:!1},to_phone:null}),t.next=3,this.service.oauth1(e);case 3:n=t.sent,this.emailSubmitLatch&&(i=this.emailSubmitLatch,this.emailSubmitLatch=null,i.resolve());case 5:case"end":return t.stop()}},t,this)}));return t}(),submitPhone:function(){}},computed:{},watch:{}}},k6Ka:function(t,e,n){var i=n("Lm97");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("be44ccb0",i,!0)},"l/sd":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.oauth?n("div",[n("checkpoint",{attrs:{name:"buy.bank-setup-oauth",args:{serviceName:t.service.slug}}}),n("oauth-login",{attrs:{form:t.oauth.form,service:t.service,registration:t.registration}}),n("smart-form",{key:"registration",ref:"registrationForm",staticStyle:{display:"none"},attrs:{callback:t.service.register,value:t.registration},on:{done:t.registered}}),n("stateful-button",{attrs:{click:t.oauthContinue}},[t._v("Continue")]),n("simple-button",{on:{click:t.oauthCancel}},[t._v(t._s(t.$t("general.button.cancel")))])],1):n("div",[n("checkpoint",{key:"registerkey",attrs:{name:"buy.bank-setup-register",args:{serviceName:t.service.slug}}}),t.isRegistered?n("div",[n("p",[t._v(t._s(t.$t("exchange.glidera.notice.registered",{service:t.service.slug})))])]):n("smart-form",{key:"registration",ref:"registrationForm",attrs:{callback:t.service.register},on:{input:function(e){t.registration=arguments[0]},done:t.registered}})],1)},r=[],a={render:i,staticRenderFns:r};e.a=a},wjgR:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".error[data-v-4570666e]{background-color:red;color:#fff;margin:22px;border-radius:5.5px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.12),0 2px 6px rgba(0,0,0,.24);box-shadow:0 3px 9px rgba(0,0,0,.12),0 2px 6px rgba(0,0,0,.24)}",""])}});
//# sourceMappingURL=23.1a007373437d5edd569a.js.map