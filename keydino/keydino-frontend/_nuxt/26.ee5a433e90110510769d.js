webpackJsonp([26],{"0nk9":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,"",""])},G81J:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.bankError?n("div",{staticClass:"error"},[t._v(t._s(t.bankError))]):t._e(),n("smart-form",{attrs:{callback:t.service.signin},on:{done:function(e){t.loggedIn(arguments[0])}}}),t.mfaForm?n("smart-form",{attrs:{meta:t.mfaForm,service:t.service,callback:t.service.question},on:{done:function(e){t.mfaDone(arguments[0])}}}):t._e()],1)},s=[],a={render:r,staticRenderFns:s};e.a=a},RMBU:function(t,e,n){"use strict";var r=n("Xxa5"),s=n.n(r),a=n("exGp"),o=n.n(a),c=n("zSYu");e.a={props:["service","step"],data:function(){return{bankLoggedIn:null,bankError:null,mfaForm:null}},methods:{loggedIn:function(){function t(t){return e.apply(this,arguments)}var e=o()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.performWebCompletion(e);case 2:if("pending"!=e.status){t.next=6;break}this.mfaForm=e.question_form,t.next=12;break;case 6:if("verified"!=e.status){t.next=11;break}this.bankLoggedIn=!0,this.fetchAccounts(),t.next=12;break;case 11:throw new Error("Unknown account status: "+e.status);case 12:case"end":return t.stop()}},t,this)}));return t}(),mfaDone:function(){function t(t){return e.apply(this,arguments)}var e=o()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.performWebCompletion(e);case 2:"verified"==e.status?(this.bankLoggedIn=!0,this.fetchAccounts()):this.bankError="Unknown account status: "+e.status;case 3:case"end":return t.stop()}},t,this)}));return t}(),performWebCompletion:function(){function t(t){return e.apply(this,arguments)}var e=o()(s.a.mark(function t(e){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e||!e.web){t.next=6;break}return t.next=4,this.$http.post("/_browser",{url:HTTPBIN_DEBUG?"https://httpbin.org/post":e.web,method:"GET"});case 4:return t.next=6,Object(c.h)("/_browser",function(t){return 409!=t});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error bringing up web result: ",t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));return t}(),fetchAccounts:function(){function t(){return e.apply(this,arguments)}var e=o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.service.accounts();case 2:this.accounts=t.sent,this.accounts.length>0&&!this.accounts.error&&this.$emit("done");case 4:case"end":return t.stop()}},t,this)}));return t}()},computed:{},watch:{}}},UfZF:function(t,e,n){var r=n("0nk9");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("7e0093f2",r,!0)},vLdH:function(t,e,n){"use strict";function r(t){n("UfZF")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("RMBU"),a=n("G81J"),o=n("VU/8"),c=r,i=o(s.a,a.a,c,"data-v-167edcc2",null);e.default=i.exports}});
//# sourceMappingURL=26.ee5a433e90110510769d.js.map